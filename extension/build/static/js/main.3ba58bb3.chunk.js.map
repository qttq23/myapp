{"version":3,"sources":["logo.svg","model/Todo.ts","db/TodoDb.ts","App.tsx","index.tsx","model/car.ts"],"names":["Todo","text","this","typelessWindow","window","TodoDbLocal","getTodos","a","createTodo","TodoDbOnline","TodoDbStorage","chrome","runtime","sendMessage","type","response","console","log","TodoDbHelper","RE","thang","tabs","App","state","count","db","getTodoDb","list","setState","length","setInterval","className","src","logo","alt","props","cb","car","age","message","href","target","rel","React","Component","ReactDOM","render","StrictMode","x","document","getElementById"],"mappings":"2OAAe,MAA0B,iCCC5BA,G,MAET,WAAYC,GAAe,yBAD3BA,KAAe,GAEXC,KAAKD,KAAOA,ICHdE,EAAsBC,OAStBC,E,sCACFC,S,sBAAW,sBAAAC,EAAA,+EAEA,CAAC,IAAIP,EAAK,WAFV,2C,KAKXQ,W,uCAAa,WAAOP,GAAP,SAAAM,EAAA,gFACF,GADE,2C,uDAKXE,E,sCACFH,S,sBAAW,sBAAAC,EAAA,+EACA,CAAC,IAAIP,EAAK,UAAW,IAAIA,EAAK,aAD9B,2C,KAIXQ,W,uCAAa,WAAOP,GAAP,SAAAM,EAAA,gFACF,GADE,2C,uDAKXG,E,sCACFJ,S,sBAAW,sBAAAC,EAAA,6DAGPJ,EAAeQ,OAAOC,QAAQC,YAAY,CACtCC,KAAM,UACP,SAAUC,GACTC,QAAQC,IAAIF,MANT,kBASA,CAAC,IAAIf,EAAK,WAAY,IAAIA,EAAK,YAAa,IAAIA,EAAK,cATrD,2C,KAYXQ,W,uCAAa,WAAOP,GAAP,SAAAM,EAAA,gFACF,GADE,2C,uDAKJW,EAAb,8FACI,WACI,OAAIf,EAAegB,IACfH,QAAQC,IAAId,EAAegB,GAAGC,OACvB,IAAIf,GAENF,EAAeQ,QAAUR,EAAeQ,OAAOU,MACpDL,QAAQC,IAAI,aACL,IAAIP,GASR,IAAID,MAjBnB,K,OC7Baa,EAAb,4MAEEC,MAAiB,CACfC,MAAO,EACPvB,KAAM,IAJV,EAOEK,SAPF,sBAOa,8BAAAC,EAAA,6DAELkB,EAAaP,EAAaQ,YAFrB,SAGQD,EAAGnB,WAHX,cAGLqB,EAHK,OAIT,EAAKC,SAAS,CACZJ,MAAOG,EAAKE,OACZ5B,KAAM0B,EAAK,GAAG1B,OANP,kBAQF0B,GARE,2CAPb,uDAiCE,WAAqB,IAAD,OAClBG,aAAY,WACV,EAAKxB,aAEJ,OArCP,oBAyCE,WACE,OACE,qBAAKyB,UAAU,MAAf,SACE,yBAAQA,UAAU,aAAlB,UACE,qBAAKC,IAAKC,EAAMF,UAAU,WAAWG,IAAI,SACzC,8BACGhC,KAAKiC,MAAMC,GAAGlC,KAAKiC,MAAME,IAAIC,KAC9B,+BAAOpC,KAAKiC,MAAMI,UAFpB,IAEoC,uBACjCrC,KAAKqB,MAAMC,MAHd,MAGwBtB,KAAKqB,MAAMtB,QAEnC,mBACE8B,UAAU,WACVS,KAAK,sBACLC,OAAO,SACPC,IAAI,sBAJN,mCAnDV,GAAyBC,IAAMC,WCV/BC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,CAAKR,QAAQ,QAAQF,IAAK,ICR1B,WAAYC,GAAc,yBAD1BA,IAAc,EAEVpC,KAAKoC,IAAMA,EDOW,CAAQ,IAAKF,GAN7B,SAACY,GACb,OAAO,EAAEA,OAOTC,SAASC,eAAe,W","file":"static/js/main.3ba58bb3.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","\r\nexport class Todo {\r\n    text: string = '';\r\n    constructor(text: string) {\r\n        this.text = text;\r\n    }\r\n}","import { Todo } from \"../model/Todo\";\r\nconst typelessWindow: any = window;\r\n\r\n\r\nexport interface TodoDb {\r\n\r\n    getTodos: () => Promise<Array<Todo>>;\r\n    createTodo: (text: string) => Promise<boolean>;\r\n}\r\n\r\nclass TodoDbLocal implements TodoDb {\r\n    getTodos = async () => {\r\n\r\n        return [new Todo('local')];\r\n    };\r\n\r\n    createTodo = async (text: string) => {\r\n        return false;\r\n    }\r\n}\r\n\r\nclass TodoDbOnline implements TodoDb {\r\n    getTodos = async () => {\r\n        return [new Todo('online'), new Todo('online2')];\r\n    }\r\n\r\n    createTodo = async (text: string) => {\r\n        return true;\r\n    }\r\n}\r\n\r\nclass TodoDbStorage implements TodoDb {\r\n    getTodos = async () => {\r\n\r\n\r\n        typelessWindow.chrome.runtime.sendMessage({\r\n            type: 'hello',\r\n        }, function (response: object) {\r\n            console.log(response);\r\n        });\r\n\r\n        return [new Todo('storage'), new Todo('storage2'), new Todo('storage3')];\r\n    }\r\n\r\n    createTodo = async (text: string) => {\r\n        return true;\r\n    }\r\n}\r\n\r\nexport class TodoDbHelper {\r\n    static getTodoDb(): TodoDb {\r\n        if (typelessWindow.RE) {\r\n            console.log(typelessWindow.RE.thang);\r\n            return new TodoDbLocal();\r\n        }\r\n        else if (typelessWindow.chrome && typelessWindow.chrome.tabs) {\r\n            console.log('extension');\r\n            return new TodoDbStorage();\r\n        }\r\n        // let isLocal: boolean = window.hasOwnProperty('RE');\r\n        // if (window.hasOwnProperty('RE')) {\r\n        //     return new TodoDbLocal();\r\n        // }\r\n        // else if (window.hasOwnProperty('EXT')) {\r\n        //     return new TodoDbStorage();\r\n        // }\r\n        return new TodoDbOnline();\r\n    }\r\n}","import logo from './logo.svg';\nimport './App.css';\nimport React from 'react';\nimport { Car } from './model/car';\nimport axios from 'axios';\nimport { TodoDb, TodoDbHelper } from './db/TodoDb';\n\nexport type myfunc = (age: number) => number;\n\ntype MyProps = {\n  // using `interface` is also ok\n  message: string;\n  car: Car;\n  cb: myfunc;\n};\ntype MyState = {\n  count: number; // like this\n  text: string\n};\n\nexport class App extends React.Component<MyProps, MyState> {\n\n  state: MyState = {\n    count: 7,\n    text: ''\n  };\n\n  getTodos = async (): Promise<Array<any>> => {\n\n    let db: TodoDb = TodoDbHelper.getTodoDb();\n    let list = await db.getTodos();\n    this.setState({\n      count: list.length,\n      text: list[0].text\n    });\n    return list;\n\n\n    // try {\n    //   let result = await axios.get('http://localhost:2021/api/todo');\n    //   let todos: Array<any> = result.data.result;\n    //   console.log(todos);\n    //   this.setState({\n    //     count: todos.length\n    //   });\n    //   return todos;\n\n\n    // } catch (error) {\n    //   return [];\n    // }\n  };\n\n  componentDidMount() {\n    setInterval(() => {\n      this.getTodos();\n\n    }, 3000);\n\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\n          <p>\n            {this.props.cb(this.props.car.age)}\n            <code>{this.props.message}</code> <br></br>\n            {this.state.count} - {this.state.text}\n          </p>\n          <a\n            className=\"App-link\"\n            href=\"https://reactjs.org\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            Learn React2\n        </a>\n        </header>\n      </div>\n    );\n  }\n\n}\n\n// export default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport {App, myfunc} from './App';\nimport { Car } from './model/car';\n\nlet handler = (x:number)=>{\n  return 3*x;\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <App message=\"henlo\" car={new Car(12)} cb={handler} />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","\r\n\r\nexport class Car {\r\n    age: number = 1;\r\n    constructor(age: number) {\r\n        this.age = age;\r\n\r\n    }\r\n}\r\n"],"sourceRoot":""}